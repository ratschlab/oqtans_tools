<tool id="mTIMEval" name="mTIMEval" version="0.2">
  <description> Evaluation of mTIM transcript predictions</description>
  <command  interpreter="bash">bin/mTIM_eval
    #if $anno_input.select_anno_format=="0":
    -n $anno_input.gff_input_selected
    #else
    -N $anno_input.ags_input_selected.extra_files_path 
    #end if
    #if $pred_input.select_pred_format=="0":
    -p $pred_input.gff_input_selected
    #else
    -P $pred_input.ags_input_selected.extra_files_path 
    #end if
    -o $mtim_out 
    >> $Log_File</command>
  <inputs>
    <conditional name="anno_input">
      <param name="select_anno_format" type="select" label="Annotation format (gold standard)" help="Select the format of your genome annotation file." >
	<option value="0">GFF3</option>
	<option value="1">AGS (mGene)</option>
      </param>
      <when value="0">
	<param format="gff3" name="gff_input_selected" type="data" label="Genome annotation in GFF3 format" help="Partial genome annotation in GFF3 format describing the known gene structures for the provided genome."/>
      </when>
      <when value="1">
	<param format="gann" name="ags_input_selected" type="data" label="Genome annotation in AGS format" help="Partial genome annotation in mGene's AGS format describing the known gene structures for the provided genome."/>
      </when>
    </conditional> 
    <conditional name="pred_input">
      <param name="select_pred_format" type="select" label="Annotation format (prediction)" help="Select the format of your genome annotation file." >
	<option value="0">GFF3</option>
	<option value="1">AGS (mGene)</option>
      </param>
      <when value="0">
	<param format="gff3" name="gff_input_selected" type="data" label="Genome annotation in GFF3 format" help="Partial genome annotation in GFF3 format describing the known gene structures for the provided genome."/>
      </when>
      <when value="1">
	<param format="gann" name="ags_input_selected" type="data" label="Genome annotation in AGS format" help="Partial genome annotation in mGene's AGS format describing the known gene structures for the provided genome."/>
      </when>
    </conditional> 
  </inputs>
  <outputs>
    <data format="txt" name="mtim_out" label="mTIM evaluation results"/>
    <data format="txt" name="Log_File" label="mTIM Evaluation Log File"/>
  </outputs>
  <help>

.. class:: infomark

**What it does** 

`mTIM Eval` 

**Inputs**

`mTIM Eval` requires three inputs to run:

1. Genome sequence in FASTA or mGene's GIO format.

**Output**

`mTIM Eval` generates ...

------

.. class:: infomark

**About formats**

**GIO format** Genome Information Object is an internal format used to
store relevant information about the genome under consideration (as
extracted from a FASTA file). It includes, for example, number and
length of chromosomes/contigs. The file is generated by applying the
`GenomeTool`.

**AGS format** Annotation Gene Structure Object is an internal
structure that efficiently stores the information from a GFF3 file. It
can be generated with the `GFF2Anno` tool. 


</help>
</tool>
